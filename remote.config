/*
mode can be any of :
  - "single": for regular single end read mapping
  - "iterative": for iterative Hi-C read mapping

aligner_args allows to specify additional arguments to the alignment software.
When mode is "single", arguments are passed to bowtie2.
When mode is "iterative" arguments are passed to hicstuff iteralign (which wraps
bowtie2). See the hicstuff docs for more info.
*/

params {
  reference        = "input/07_Ac_C3_masked.fa"
  input_dir        = "input"
  output_dir       = "output"
  n_chunks         = 200
  mode         = 'iterative'
  aligner_args = "--read-len 150 --aligner bowtie2"
  bucket_name  =  'test_vapormap'
  cluster_size =  12
}

process {
  executor='k8s'
  cpus = 12
  memory = 16.GB
  queueSize = 2000
  withName: 'mapSplit' {
    cpus = 1
    memory = 1.GB
  }
}

cloud {
  driver = 'google'
  imageId = 'nf-k8s-vapormap-cluster'
  instanceType = 'n1-standard-4'
}

google {
  project = 'your-project-id'
  zone = 'eu-west1-d'
}
